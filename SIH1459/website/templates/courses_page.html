{% extends 'base.html' %}

{% block content %}

    <div class="col-ms-6 mx-auto "  style="text-align: center;">
    {% if user.is_authenticated %}
    <h1 class="text-center">Courses</h1>
        </div>
    {% if course_records %}

    <table class="table table-striped table-hover table-bordered">
        <thead>
            <tr>
                <th scope="col">Course Code</th>
                <th scope="col">Course Name</th>
                <th scope="col">Course Duration</th>
            </tr>
        </thead>
        <tbody class="table-group-divider">
            {% for record in course_records %}
                <tr>
                    <td>{{record.code}}</td>
                    <td>{{record.name}}</td>
                    <td>{{record.duration}}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% endif %}


    <div class="col-ms-6 mx-auto "  style="text-align: center;">

    {% else %}

    <h1 class="text-center">Please log in to continue</h1>

    {% endif %}
    <a href = "{% url 'home' %} " class ="btn btn-primary " >Go Back</a>
    <a href = "{% url 'add_course' %} " class ="btn btn-primary " >Add Course</a>
    </div>


    <form class="d-flex" method="POST" action="{% url 'courses_search' %}">
        {% csrf_token %}
        <label for="search_by">Search by</label>
        <select name="search_by" id="search_by">

          <option value="course_name">Course Name</option>
          <option value="course_code">Course Code</option>
        </select>
        <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search" name="courses_search">
        <button class="btn btn-outline-success" type="submit">Search</button>
      </form>

{% endblock %}